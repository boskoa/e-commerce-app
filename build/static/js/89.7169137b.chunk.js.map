{"version":3,"file":"static/js/89.7169137b.chunk.js","mappings":"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","sources":["features/users/UserSettings/Avatar.js","customHooks/useUpdateProfile.js","features/users/UserSettings/UserData.js","features/users/UserSettings/index.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"],"sourcesContent":["import axios from \"axios\";\nimport { useState } from \"react\";\nimport styled from \"styled-components\";\n\nconst Container = styled.div`\n  flex: 3;\n`;\n\nexport const Form = styled.form`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 5px;\n  width: 100%;\n`;\n\nexport const PseudoButton = styled.div`\n  background-color: ${({ theme }) => theme.secondary};\n  font-size: 14px;\n  padding: 5px;\n  min-width: 50px;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  &:hover {\n    background-color: black;\n  }\n\n  &:active {\n    background-color: ${({ theme }) => theme.secondary};\n  }\n`;\n\nexport const Button = styled.div`\n  background-color: ${({ theme }) => theme.primary};\n  font-size: 14px;\n  padding: 5px;\n  min-width: 50px;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  &:hover {\n    background-color: black;\n  }\n\n  &:active {\n    background-color: ${({ theme }) => theme.primary};\n  }\n`;\n\nconst Image = styled.img`\n  border-radius: 50%;\n  height: 200px;\n  width: 200px;\n  display: block;\n  margin: 20px auto;\n  object-fit: cover;\n`;\n\nfunction Avatar({ loggedUser }) {\n  const [name, setName] = useState(\"Choose avatar\");\n  const [file, setFile] = useState();\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append(\"name\", name);\n    formData.append(\"file\", file);\n\n    await axios.post(`/api/avatars/${loggedUser.id}`, formData, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\",\n        Authorization: `bearer ${loggedUser.token}`,\n      },\n    });\n\n    window.location.reload();\n  }\n\n  return (\n    <Container>\n      <Form id=\"avatar-form\" encType=\"multipart/form-data\">\n        <label htmlFor=\"avatar\" style={{ maxWidth: \"70%\" }}>\n          <input\n            style={{\n              display: \"none\",\n            }}\n            id=\"avatar\"\n            type=\"file\"\n            name=\"avatar\"\n            onChange={(e) => {\n              setName(loggedUser.id);\n              setFile(e.target.files[0]);\n            }}\n          />\n          <PseudoButton>Choose avatar</PseudoButton>\n        </label>\n        <Button disabled={!file} onClick={(e) => handleSubmit(e)}>\n          Set\n        </Button>\n      </Form>\n      {file && (\n        <Image alt=\"chosen avatar\" src={file && URL.createObjectURL(file)} />\n      )}\n    </Container>\n  );\n}\n\nexport default Avatar;\n","import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  resetError,\n  selectUserCreated,\n  selectUsersError,\n  resetSuccess,\n  BASE_URL,\n  updateUser,\n} from \"../features/users/usersSlice\";\nimport { logout } from \"../features/login/loginSlice\";\n\nfunction useUpdateProfile(loggedUser) {\n  const [name, setName] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [address, setAddress] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [inputErrors, setInputErrors] = useState({});\n  const [usernameExists, setUsernameExists] = useState(false);\n  const usersError = useSelector(selectUsersError);\n  const updateSuccess = useSelector(selectUserCreated);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (loggedUser) {\n      setName(loggedUser.name);\n      setUsername(loggedUser.username);\n      setEmail(loggedUser.email);\n      setAddress(loggedUser.address);\n    }\n  }, [loggedUser, setName, setUsername, setEmail, setAddress]);\n\n  useEffect(() => {\n    let index;\n    if (error) {\n      index = setTimeout(() => setError(\"\"), 3000);\n    }\n\n    return () => clearTimeout(index);\n  }, [error]);\n\n  useEffect(() => {\n    if (usersError) {\n      setError(\"Update failed\");\n    }\n\n    return () => dispatch(resetError());\n  }, [usersError, dispatch]);\n\n  useEffect(() => {\n    if (updateSuccess) {\n      dispatch(logout());\n    }\n\n    return () => dispatch(resetSuccess());\n  }, [updateSuccess, newPassword, dispatch]);\n\n  useEffect(() => {\n    async function checkExistingUsername() {\n      if (username.length > 0) {\n        const response = await axios.post(`${BASE_URL}/check-username`, {\n          username,\n        });\n        try {\n          if (response.data > 0) {\n            setInputErrors((prev) => {\n              const { u, ...rest } = prev;\n              return { ...rest, u: \"red\" };\n            });\n            setError(\"Username already exists\");\n            setUsernameExists(true);\n          } else {\n            setInputErrors((prev) => {\n              const { u, ...rest } = prev;\n              return rest;\n            });\n            setUsernameExists(false);\n          }\n          return;\n        } catch (error) {\n          setError(JSON.stringify(error));\n        }\n      }\n    }\n\n    if (username !== loggedUser?.username) {\n      checkExistingUsername();\n    }\n  }, [username, loggedUser]);\n\n  function handleNameCheck() {\n    if (name.length < 2 || name.length > 20) {\n      setError(\"Name must be between 2 and 20 characters long\");\n      setInputErrors((prev) => ({ ...prev, n: \"red\" }));\n      return;\n    }\n\n    inputErrors.n &&\n      setInputErrors((prev) => {\n        const { n, ...rest } = prev;\n        return rest;\n      });\n    return;\n  }\n\n  function handleUsernameCheck() {\n    if (username.length < 2 || username.length > 20) {\n      setError(\"Username must be between 2 and 20 characters long\");\n      setInputErrors((prev) => ({ ...prev, u: \"red\" }));\n      return;\n    }\n\n    inputErrors.u &&\n      !usernameExists &&\n      setInputErrors((prev) => {\n        const { u, ...rest } = prev;\n        return rest;\n      });\n    return;\n  }\n\n  function handleEmailCheck() {\n    const validEmail = /^\\S+\\w{1}@[a-z0-9-]+.[a-z]{2,4}$/i.test(email);\n    if (!validEmail) {\n      setError(\"Please, enter a valid email\");\n      setInputErrors((prev) => ({ ...prev, e: \"red\" }));\n      return;\n    }\n\n    inputErrors.e &&\n      setInputErrors((prev) => {\n        const { e, ...rest } = prev;\n        return rest;\n      });\n    return;\n  }\n\n  function handlePasswordCheck() {\n    if (\n      (newPassword.length > 0 && newPassword.length < 6) ||\n      newPassword.length > 20\n    ) {\n      setError(\"Password must be between 6 and 20 characters long\");\n      setInputErrors((prev) => ({ ...prev, p: \"red\" }));\n      return;\n    }\n\n    inputErrors.p &&\n      setInputErrors((prev) => {\n        const { p, ...rest } = prev;\n        return rest;\n      });\n    return;\n  }\n\n  function handleAddressCheck() {\n    const validAddress =\n      /^[a-z]+( [a-z]+){0,5} {1}\\d{1,4}, \\d{1,8} [a-z]+( [a-z]+){0,5}, [a-z]+( [a-z]+){0,3}$/i.test(\n        address\n      );\n    if (!validAddress) {\n      setError(\"Address format: Street name 42, 123 City, Country\");\n      setInputErrors((prev) => ({ ...prev, a: \"red\" }));\n      return;\n    }\n\n    inputErrors.a &&\n      setInputErrors((prev) => {\n        const { a, ...rest } = prev;\n        return rest;\n      });\n    return;\n  }\n\n  function handleUpdate() {\n    if (inputErrors.size > 0 || !(name && username && email)) {\n      setError(\"Invalid inputs\");\n      return;\n    }\n\n    if (\n      name === loggedUser.name &&\n      username === loggedUser.username &&\n      email === loggedUser.email &&\n      address === loggedUser.address &&\n      !newPassword\n    ) {\n      setError(\"Nothing to change\");\n      return;\n    }\n    if (!newPassword) {\n      dispatch(\n        updateUser({\n          token: loggedUser.token,\n          newData: { name, username, email, address },\n          id: loggedUser.id,\n        })\n      );\n    } else {\n      dispatch(\n        updateUser({\n          token: loggedUser.token,\n          newData: { name, username, email, address, password: newPassword },\n          id: loggedUser.id,\n        })\n      );\n    }\n  }\n\n  return {\n    name,\n    setName,\n    handleNameCheck,\n    username,\n    setUsername,\n    handleUsernameCheck,\n    email,\n    setEmail,\n    handleEmailCheck,\n    newPassword,\n    setNewPassword,\n    handlePasswordCheck,\n    address,\n    setAddress,\n    handleAddressCheck,\n    error,\n    setError,\n    handleUpdate,\n    inputErrors,\n  };\n}\n\nexport default useUpdateProfile;\n","import { useNavigate } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport useUpdateProfile from \"../../../customHooks/useUpdateProfile\";\n\nconst InputData = styled.div`\n  flex: 2;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 10px;\n  width: 50%;\n  min-height: 360px;\n`;\n\nconst Input = styled.input`\n  border: 1px solid ${({ theme }) => theme.color};\n  color: ${({ theme }) => theme.color};\n  background-color: ${({ theme }) => theme.bg};\n  height: 30px;\n  min-width: 50%;\n  padding: 5px;\n`;\n\nconst Button = styled.button`\n  padding: 5px;\n  width: 140px;\n  background-color: inherit;\n  color: ${({ theme }) => theme.color};\n  border: 1px solid ${({ theme }) => theme.color};\n  cursor: pointer;\n  transition: all 0.3s;\n\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.2);\n  }\n`;\n\nconst Error = styled.div`\n  width: 100%;\n  font-size: 14px;\n  color: red;\n  text-align: center;\n`;\n\nfunction UserData({ user }) {\n  const {\n    name,\n    setName,\n    handleNameCheck,\n    username,\n    setUsername,\n    handleUsernameCheck,\n    email,\n    setEmail,\n    handleEmailCheck,\n    newPassword,\n    setNewPassword,\n    handlePasswordCheck,\n    address,\n    setAddress,\n    handleAddressCheck,\n    error,\n    setError,\n    handleUpdate,\n    inputErrors,\n  } = useUpdateProfile(user);\n  const navigate = useNavigate();\n\n  return (\n    <InputData>\n      <Input\n        style={{ borderColor: inputErrors?.n && \"red\" }}\n        type=\"text\"\n        placeholder=\"name\"\n        value={name}\n        onChange={(e) => setName(e.target.value)}\n        onBlur={handleNameCheck}\n      ></Input>\n      <Input\n        style={{ borderColor: inputErrors?.u && \"red\" }}\n        type=\"text\"\n        placeholder=\"username\"\n        value={username}\n        onChange={(e) => setUsername(e.target.value)}\n        onBlur={handleUsernameCheck}\n      ></Input>\n      <Input\n        style={{ borderColor: inputErrors?.e && \"red\" }}\n        type=\"text\"\n        placeholder=\"email\"\n        value={email}\n        onChange={(e) => setEmail(e.target.value)}\n        onBlur={handleEmailCheck}\n      ></Input>\n      <Input\n        style={{ borderColor: inputErrors?.a && \"red\" }}\n        type=\"text\"\n        placeholder=\"address\"\n        value={address}\n        onChange={(e) => setAddress(e.target.value)}\n        onBlur={handleAddressCheck}\n      ></Input>\n      <Input\n        style={{ borderColor: inputErrors?.p && \"red\" }}\n        type=\"password\"\n        placeholder=\"new password\"\n        value={newPassword}\n        onChange={(e) => setNewPassword(e.target.value)}\n        onBlur={handlePasswordCheck}\n      ></Input>\n      <Button\n        disabled={Object.keys(inputErrors)?.length > 0}\n        onClick={handleUpdate}\n      >\n        Update\n      </Button>\n      <Button\n        onClick={() => {\n          setError(\"\");\n          navigate(\"/\");\n        }}\n      >\n        Back\n      </Button>\n      <Error>{error}</Error>\n    </InputData>\n  );\n}\n\nexport default UserData;\n","import { useSelector } from \"react-redux\";\nimport { selectLoggedUser } from \"../../login/loginSlice\";\nimport styled from \"styled-components\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useEffect } from \"react\";\nimport UserData from \"./UserData\";\nimport Avatar from \"./Avatar\";\n\nconst UserContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  min-height: 60vh;\n  padding: 20px;\n  gap: 20px;\n`;\n\nconst AllData = styled.div`\n  display: flex;\n  width: 80%;\n  justify-content: space-around;\n  gap: 10px;\n\n  @media only screen and (max-width: 520px) {\n    flex-direction: column;\n    align-items: center;\n  }\n`;\n\nconst Title = styled.h3``;\n\nfunction UserSettings() {\n  const loggedUser = useSelector(selectLoggedUser);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (!loggedUser) {\n      navigate(\"/login\");\n    }\n  }, [loggedUser, navigate]);\n\n  return (\n    <UserContainer>\n      <Title>Update profile</Title>\n      <AllData>\n        <UserData user={loggedUser} />\n        <Avatar\n          loggedUser={loggedUser}\n          style={{ width: \"50%\", border: \"1px solid white\" }}\n        >\n          avatar\n        </Avatar>\n      </AllData>\n    </UserContainer>\n  );\n}\n\nexport default UserSettings;\n","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}"],"names":["Container","styled","_templateObject","_taggedTemplateLiteral","Form","_templateObject2","PseudoButton","_templateObject3","_ref","theme","secondary","_ref2","Button","_templateObject4","_ref3","primary","_ref4","Image","_templateObject5","_ref5","loggedUser","_useState","useState","_useState2","_slicedToArray","name","setName","_useState3","_useState4","file","setFile","_handleSubmit","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","formData","wrap","_context","prev","next","preventDefault","FormData","append","axios","concat","id","headers","Authorization","token","window","location","reload","stop","apply","arguments","_jsxs","children","encType","htmlFor","style","maxWidth","_jsx","display","type","onChange","target","files","disabled","onClick","_x","handleSubmit","alt","src","URL","createObjectURL","username","setUsername","_useState5","_useState6","email","setEmail","_useState7","_useState8","newPassword","setNewPassword","_useState9","_useState10","address","setAddress","_useState11","_useState12","error","setError","_useState13","_useState14","inputErrors","setInputErrors","_useState15","_useState16","usernameExists","setUsernameExists","usersError","useSelector","selectUsersError","updateSuccess","selectUserCreated","dispatch","useDispatch","useEffect","index","setTimeout","clearTimeout","resetError","logout","resetSuccess","_checkExistingUsername","response","length","BASE_URL","sent","data","u","rest","_objectWithoutProperties","_excluded","_objectSpread","_excluded2","abrupt","t0","JSON","stringify","checkExistingUsername","handleNameCheck","n","_excluded3","handleUsernameCheck","_excluded4","handleEmailCheck","test","_excluded5","handlePasswordCheck","p","_excluded6","handleAddressCheck","a","_excluded7","handleUpdate","size","updateUser","newData","password","InputData","Input","color","bg","Error","_ref6","_Object$keys","user","_useUpdateProfile","useUpdateProfile","navigate","useNavigate","borderColor","placeholder","value","onBlur","Object","keys","UserContainer","AllData","Title","selectLoggedUser","UserData","Avatar","width","border","source","excluded","key","i","getOwnPropertySymbols","sourceSymbolKeys","indexOf","prototype","propertyIsEnumerable","call"],"sourceRoot":""}