{"version":3,"file":"static/js/983.b4fa0744.chunk.js","mappings":"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","sources":["components/AdminPanel/AdminProducts/ProductsStatistics/BestEarners.js","components/AdminPanel/AdminProducts/ProductsStatistics/Bestsellers.js","components/AdminPanel/AdminProducts/ProductsStatistics/Dates.js","components/AdminPanel/AdminProducts/ProductsStatistics/index.js","components/AdminPanel/styledElements.js"],"sourcesContent":["import { Link } from \"react-router-dom\";\nimport { Container, DataItem, Line } from \"./Bestsellers\";\nimport { useSelector } from \"react-redux\";\nimport { selectLoggedUser } from \"../../../../features/login/loginSlice\";\n\nexport const formatter = new Intl.NumberFormat(\"en-US\", {\n  style: \"currency\",\n  currency: \"USD\",\n});\n\nfunction BestEarners({ bestEarners }) {\n  const user = useSelector(selectLoggedUser);\n\n  return (\n    <Container>\n      <h4>Best earners</h4>\n      {bestEarners.map((b) => (\n        <DataItem key={b.id}>\n          <Link\n            to={`/${user.id}/admin-panel/products/single-stats/${b.id}`}\n            style={{\n              textDecoration: \"none\",\n              color: \"inherit\",\n            }}\n          >\n            <p>{b.title}</p>\n          </Link>\n          <p>{formatter.format(b.total_amount)}</p>\n        </DataItem>\n      ))}\n      <Line />\n      <DataItem>\n        <p>\n          <strong>Total</strong>\n        </p>\n        <p>\n          <strong>\n            {formatter.format(\n              bestEarners.reduce((p, c) => p + Number(c.total_amount), 0)\n            )}\n          </strong>\n        </p>\n      </DataItem>\n    </Container>\n  );\n}\n\nexport default BestEarners;\n","import { useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { selectLoggedUser } from \"../../../../features/login/loginSlice\";\n\nexport const Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n  padding: 5px;\n  flex: 1;\n  background-color: ${({ theme }) => theme.newsletter};\n  border-radius: 3px;\n  box-shadow: 0 0 5px 0 black;\n`;\n\nexport const DataItem = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex: 1;\n`;\n\nexport const Line = styled.hr`\n  color: ${({ theme }) => theme.color};\n`;\n\nfunction Bestsellers({ bestsellers }) {\n  const user = useSelector(selectLoggedUser);\n\n  return (\n    <Container>\n      <h4>Best sellers</h4>\n      {bestsellers.map((b) => (\n        <DataItem key={b.id}>\n          <Link\n            to={`/${user.id}/admin-panel/products/single-stats/${b.id}`}\n            style={{\n              textDecoration: \"none\",\n              color: \"inherit\",\n            }}\n          >\n            <p>{b.product.title}</p>\n          </Link>\n          <p>{b.count_products} pcs.</p>\n        </DataItem>\n      ))}\n      <Line />\n      <DataItem>\n        <p>\n          <strong>Total</strong>\n        </p>\n        <p>\n          <strong>\n            {bestsellers.reduce((p, c) => p + Number(c.count_products), 0)} pcs.\n          </strong>\n        </p>\n      </DataItem>\n    </Container>\n  );\n}\n\nexport default Bestsellers;\n","import styled from \"styled-components\";\nimport { Input } from \"../../styledElements\";\n\nconst Container = styled.div`\n  display: flex;\n  justify-content: space-evenly;\n  align-items: center;\n  gap: 10px;\n\n  @media only screen and (max-width: 800px) {\n    flex-direction: column;\n  }\n`;\n\nconst Button = styled.button`\n  padding: 3px;\n  font-size: 14px;\n  background-color: ${({ theme }) => theme.newsletter};\n  color: ${({ theme }) => theme.color};\n  border: none;\n  box-shadow: 0 0 5px 0 black;\n  cursor: pointer;\n  transition: all 0.2s;\n\n  &:active {\n    box-shadow: none;\n    transform: scale(0.99);\n  }\n`;\n\nfunction Dates({ start, setStart, end, setEnd, handleDateObjects }) {\n  return (\n    <Container>\n      <Input\n        placeholder=\"Enter start date (yyyy-mm--dd)\"\n        type=\"text\"\n        value={start}\n        onChange={(e) => setStart(e.target.value)}\n        style={{ minWidth: \"200px\" }}\n      />\n      <Button onClick={handleDateObjects}>Refetch</Button>\n      <Input\n        placeholder=\"Enter end date (yyyy-mm--dd)\"\n        type=\"text\"\n        value={end}\n        onChange={(e) => setEnd(e.target.value)}\n        style={{ minWidth: \"200px\" }}\n      />\n    </Container>\n  );\n}\n\nexport default Dates;\n","import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { BASE_URL } from \"../../../../features/orderedProducts/orderedProductsSlice\";\nimport Bestsellers from \"./Bestsellers\";\nimport BestEarners from \"./BestEarners\";\nimport styled from \"styled-components\";\nimport Dates from \"./Dates\";\n\nexport const MainContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  justify-content: center;\n  gap: 10px;\n`;\n\nexport const Container = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 10px;\n\n  @media only screen and (max-width: 800px) {\n    flex-direction: column;\n    align-items: stretch;\n  }\n`;\n\nexport const Error = styled.div`\n  height: 20px;\n  text-align: center;\n  color: red;\n`;\n\nfunction ProductsStatistics() {\n  const [bestsellers, setBestsellers] = useState([]);\n  const [bestEarners, setBestEarners] = useState([]);\n  const [start, setStart] = useState(\"\");\n  const [end, setEnd] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [startQuery, setStartQuery] = useState(\"\");\n  const [endQuery, setEndQuery] = useState(\"\");\n\n  function handleDateObjects() {\n    const startCheck = isNaN(Date.parse(start));\n    const endCheck = isNaN(Date.parse(end));\n    const startRegex = /[0-9]{4}-[0-9]{2}-[0-9]{2}/.test(start);\n    const endRegex = /[0-9]{4}-[0-9]{2}-[0-9]{2}/.test(end);\n\n    if (start && (startCheck || !startRegex)) {\n      setError(\"Invalid start date format\");\n      return;\n    }\n\n    if (end && (endCheck || !endRegex)) {\n      setError(\"Invalid end date format\");\n      return;\n    }\n\n    setStartQuery(start);\n    setEndQuery(end);\n  }\n\n  useEffect(() => {\n    async function getBestsellers() {\n      const response = await axios.get(\n        `${BASE_URL}/bestsellers?start=${startQuery ? startQuery : \"0\"}&end=${\n          endQuery ? endQuery : \"0\"\n        }`\n      );\n      setBestsellers(response.data);\n    }\n\n    async function getBestEarners() {\n      const response = await axios.get(\n        `${BASE_URL}/best-earners?start=${startQuery ? startQuery : \"0\"}&end=${\n          endQuery ? endQuery : \"0\"\n        }`\n      );\n      setBestEarners(response.data);\n    }\n\n    getBestsellers();\n    getBestEarners();\n  }, [startQuery, endQuery]);\n\n  useEffect(() => {\n    const index = setTimeout(() => setError(\"\"), 4000);\n\n    return () => clearTimeout(index);\n  }, [error]);\n\n  return (\n    <MainContainer>\n      <Dates\n        start={start}\n        setStart={setStart}\n        end={end}\n        setEnd={setEnd}\n        handleDateObjects={handleDateObjects}\n      />\n      <Error>{error}</Error>\n      <Container>\n        <Bestsellers bestsellers={bestsellers} />\n        <BestEarners bestEarners={bestEarners} />\n      </Container>\n    </MainContainer>\n  );\n}\n\nexport default ProductsStatistics;\n","import styled from \"styled-components\";\nimport { TopButton } from \"../../features/orderedProducts/Cart/ShoppingBag/TopComponent\";\n\nexport const Button = styled(TopButton)`\n  width: 150px;\n  box-shadow: ${({ active }) => (active ? \"0 0 5px 0 black\" : \"\")};\n`;\n\nexport const Input = styled.input`\n  border: 1px solid ${({ theme }) => theme.color};\n  color: ${({ theme }) => theme.color};\n  background-color: transparent;\n  outline: none;\n  padding: 3px;\n  transition: all 0.3s;\n\n  &:focus {\n    border: 1px solid lime;\n    box-shadow: 0 0 3px 0 lime;\n  }\n`;\n\nexport const Textarea = styled.textarea`\n  border: 1px solid ${({ theme }) => theme.color};\n  color: ${({ theme }) => theme.color};\n  background-color: transparent;\n  outline: none;\n  padding: 3px;\n  max-width: 100%;\n  transition: all 0.3s;\n\n  &:focus {\n    border: 1px solid lime;\n    box-shadow: 0 0 3px 0 lime;\n  }\n`;\n"],"names":["formatter","Intl","NumberFormat","style","currency","_ref","bestEarners","user","useSelector","selectLoggedUser","_jsxs","Container","children","_jsx","map","b","DataItem","Link","to","concat","id","textDecoration","color","title","format","total_amount","Line","reduce","p","c","Number","styled","_templateObject","_taggedTemplateLiteral","theme","newsletter","_templateObject2","_templateObject3","_ref2","_ref3","bestsellers","product","count_products","Button","start","setStart","end","setEnd","handleDateObjects","Input","placeholder","type","value","onChange","e","target","minWidth","onClick","MainContainer","Error","_useState","useState","_useState2","_slicedToArray","setBestsellers","_useState3","_useState4","setBestEarners","_useState5","_useState6","_useState7","_useState8","_useState9","_useState10","error","setError","_useState11","_useState12","startQuery","setStartQuery","_useState13","_useState14","endQuery","setEndQuery","useEffect","_getBestsellers","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_context","prev","next","axios","BASE_URL","sent","data","stop","apply","arguments","_getBestEarners","_callee2","_context2","getBestsellers","getBestEarners","index","setTimeout","clearTimeout","Dates","startCheck","isNaN","Date","parse","endCheck","startRegex","test","endRegex","Bestsellers","BestEarners","TopButton","active","Textarea","_ref4","_ref5"],"sourceRoot":""}