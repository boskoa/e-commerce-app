"use strict";(self.webpackChunke_commerce=self.webpackChunke_commerce||[]).push([[644,206],{5872:function(n,t,e){var i=e(9439),r=e(2791);t.Z=function(n){var t=(0,r.useState)(!1),e=(0,i.Z)(t,2),c=e[0],o=e[1];return(0,r.useEffect)((function(){new IntersectionObserver((function(n){(0,i.Z)(n,1)[0].isIntersecting?o(!0):o(!1)}),{root:null,rootMargin:"0px",threshold:1}).observe(n.current)}),[n]),c}},4644:function(n,t,e){e.r(t);var i=e(9439),r=e(2791),c=e(9434),o=e(2733),a=e(5872),s=e(9182),u=e(1532),l=e(7689),d=e(7206),f=e(184);t.default=function(){var n=(0,r.useState)(0),t=(0,i.Z)(n,2),e=t[0],p=t[1],x=(0,r.useState)(!1),h=(0,i.Z)(x,2),g=h[0],Z=h[1],m=(0,c.I0)(),v=(0,c.v9)(s.qr),j=(0,c.v9)(s._7),w=(0,r.useRef)(null),y=(0,a.Z)(w),b=(0,l.UO)().category;return(0,r.useEffect)((function(){p(0),m((0,s.wD)()),window.scrollTo(0,0)}),[b,m]),(0,r.useEffect)((function(){y&&!g&&p((function(n){return n+4}))}),[y,g]),(0,r.useEffect)((function(){e-4>v.length?Z(!0):Z(!1)}),[e,v.length]),(0,r.useEffect)((function(){e===v.length&&b&&m((0,s.Dg)("?pagination=".concat(e,",").concat(4).concat(b?"&category=".concat(b):"")))}),[e,v.length,b,m]),(0,f.jsxs)(d.Container,{children:[(0,f.jsxs)(d.Title,{children:["All products in category ",b]}),(0,f.jsx)(d.ProductContainer,{children:v.map((function(n){return(0,f.jsx)(u.Z,{product:n},n.id)}))}),(0,f.jsx)(d.SpinnerContainer,{ref:w,children:j&&(0,f.jsx)(o.Z,{})})]})}},1532:function(n,t,e){var i,r,c=e(168),o=e(1087),a=e(8789),s=e(3432),u=e(6958),l=e(4004),d=e(184),f=a.ZP.div(i||(i=(0,c.Z)(["\n  position: relative;\n  display: flex;\n  justify-content: space-between;\n  align-items: start;\n  flex-wrap: wrap;\n  gap: 15px;\n  height: 250px;\n  width: 100%;\n  color: ",";\n  box-shadow: 0px 0px 2px 0px rgba(0, 0, 0, 0.7);\n  transition: all 0.3s;\n\n  &:hover {\n    box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.7);\n    transform: scale(1.005);\n  }\n\n  @media only screen and (max-width: 575px) {\n    flex-direction: column;\n    height: auto;\n  }\n"])),(function(n){return n.theme.color})),p=(0,a.ZP)(l.j8)(r||(r=(0,c.Z)(["\n  top: auto;\n  left: auto;\n  bottom: 10px;\n  right: 10px;\n  font-size: 14px;\n"])));t.Z=function(n){var t=n.product;return(0,d.jsxs)(f,{children:[(0,d.jsx)(s.Z,{product:t,height:"250px"}),(0,d.jsx)(u.Z,{product:t}),(0,d.jsx)(o.rU,{to:"/products/".concat(t.id),children:(0,d.jsx)(p,{children:"See product"})})]})}},9508:function(n,t,e){var i,r,c=e(168),o=e(8789),a=e(184),s=o.ZP.select(i||(i=(0,c.Z)(["\n  background-color: inherit;\n  color: inherit;\n  border: 1px solid ",";\n  padding: 5px;\n"])),(function(n){return n.theme.color})),u=o.ZP.option(r||(r=(0,c.Z)([""])));t.Z=function(n){var t=n.defaultValue,e=n.setValue,i=n.values;return(0,a.jsxs)(s,{onChange:function(n){return e(n.target.value)},children:[(0,a.jsx)(u,{value:"",children:t}),i.map((function(n){return(0,a.jsx)(u,{value:n,children:n},n)}))]})}},7206:function(n,t,e){e.r(t),e.d(t,{Container:function(){return S},ProductContainer:function(){return z},SpinnerContainer:function(){return I},Title:function(){return k}});var i,r,c,o,a,s,u,l=e(4165),d=e(5861),f=e(9439),p=e(168),x=e(1243),h=e(2791),g=e(9434),Z=e(8789),m=e(2733),v=e(5872),j=e(9621),w=e(9182),y=e(1532),b=e(9508),P=e(184),S=Z.ZP.div(i||(i=(0,p.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  justify-content: start;\n  gap: 20px;\n  min-height: 100vh;\n  width: 100%;\n  padding: 20px;\n  background-image: ",";\n  color: ",";\n  transition: all 0.3s;\n"])),(function(n){var t=n.theme;return"linear-gradient(-200deg, ".concat(t.base[0],", ").concat(t.base[1]," 30%)")}),(function(n){return n.theme.color})),k=Z.ZP.h2(r||(r=(0,p.Z)(["\n  font-weight: 600;\n  font-size: 36px;\n"]))),C=Z.ZP.div(c||(c=(0,p.Z)(["\n  display: flex;\n  width: 100%;\n  justify-content: space-between;\n  gap: 20px;\n\n  @media only screen and (max-width: 600px) {\n    flex-direction: column;\n  }\n"]))),E=Z.ZP.div(o||(o=(0,p.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 5px;\n\n  @media only screen and (max-width: 400px) {\n    flex-direction: column;\n    align-items: start;\n  }\n"]))),V=Z.ZP.p(a||(a=(0,p.Z)(["\n  font-size: 18px;\n"]))),z=Z.ZP.div(s||(s=(0,p.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: start;\n  justify-content: start;\n  gap: 15px;\n  min-height: 100%;\n  transition: all 0.3s;\n"]))),I=Z.ZP.div(u||(u=(0,p.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 70px;\n  width: 100%;\n  margin-top: auto;\n"])));t.default=function(){var n=(0,h.useState)(0),t=(0,f.Z)(n,2),e=t[0],i=t[1],r=(0,h.useState)(!1),c=(0,f.Z)(r,2),o=c[0],a=c[1],s=(0,g.I0)(),u=(0,g.v9)(w.qr),p=(0,g.v9)(w._7),Z=(0,h.useRef)(null),D=(0,v.Z)(Z),A=(0,g.v9)(j.sI).map((function(n){return n.name})),q=(0,h.useState)([]),_=(0,f.Z)(q,2),O=_[0],T=_[1],M=(0,h.useState)([]),R=(0,f.Z)(M,2),U=R[0],F=R[1],X=(0,h.useMemo)((function(){return{"price (asc)":["price,ASC"],"price (desc)":["price,DESC"],newest:["createdAt,DESC"],oldest:["createdAt,ASC"]}}),[]),$=(0,h.useState)(""),B=(0,f.Z)($,2),G=B[0],H=B[1],J=(0,h.useState)(""),K=(0,f.Z)(J,2),L=K[0],N=K[1],Q=(0,h.useState)(""),W=(0,f.Z)(Q,2),Y=W[0],nn=W[1],tn=(0,h.useState)(""),en=(0,f.Z)(tn,2),rn=en[0],cn=en[1];return(0,h.useEffect)((function(){i(0),s((0,w.wD)())}),[G,L,Y,rn,s]),(0,h.useEffect)((function(){function n(){return(n=(0,d.Z)((0,l.Z)().mark((function n(){var t;return(0,l.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x.Z.get("/api/products/colors-sizes");case 2:t=n.sent,T(t.data.uniqueColors),F(t.data.uniqueSizes);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[]),(0,h.useEffect)((function(){D&&!o&&i((function(n){return n+4}))}),[D,o]),(0,h.useEffect)((function(){e-4>u.length?a(!0):a(!1)}),[e,u.length]),(0,h.useEffect)((function(){e===u.length&&s((0,w.Dg)("?pagination=".concat(e,",").concat(4).concat(G?"&category=".concat(G):"").concat(L?"&color=".concat(L):"").concat(Y?"&size=".concat(Y):"").concat(rn?"&order=".concat(X[rn]):"")))}),[e,u.length,G,L,Y,rn,X,s]),(0,P.jsxs)(S,{children:[(0,P.jsx)(k,{children:"All products"}),(0,P.jsxs)(C,{children:[(0,P.jsxs)(E,{children:[(0,P.jsx)(V,{children:"Filter products"}),(0,P.jsx)(b.Z,{defaultValue:"categories",setValue:H,values:A}),(0,P.jsx)(b.Z,{defaultValue:"colors",setValue:N,values:O}),(0,P.jsx)(b.Z,{defaultValue:"sizes",setValue:nn,values:U})]}),(0,P.jsxs)(E,{children:[(0,P.jsx)(V,{children:"Sort by"}),(0,P.jsx)(b.Z,{defaultValue:"criterium",setValue:cn,values:Object.keys(X)})]})]}),(0,P.jsx)(z,{children:u.map((function(n){return(0,P.jsx)(y.Z,{product:n},n.id)}))}),(0,P.jsx)(I,{ref:Z,children:p&&(0,P.jsx)(m.Z,{})})]})}},3432:function(n,t,e){var i,r,c,o=e(168),a=e(690),s=e(9434),u=e(8789),l=e(695),d=e(7616),f=e(184),p=u.ZP.div(i||(i=(0,o.Z)(["\n  flex: 1;\n  min-width: 200px;\n  align-self: stretch;\n  position: relative;\n"]))),x=u.ZP.img(r||(r=(0,o.Z)(["\n  width: 100%;\n  height: ",";\n  object-fit: cover;\n"])),(function(n){return n.height})),h=u.ZP.div(c||(c=(0,o.Z)(["\n  position: absolute;\n  top: 5px;\n  left: 5px;\n  color: ",";\n  background-color: ",";\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 0.7;\n  cursor: pointer;\n  transition: all 0.3s;\n\n  &:hover {\n    opacity: 1;\n  }\n\n  &:active {\n    transform: scale(1.1);\n  }\n"])),(function(n){return n.theme.color}),(function(n){return n.theme.bg}));t.Z=function(n){var t=n.product,e=n.height,i=(0,s.v9)(l.r).map((function(n){return n.productId})),r=(0,s.v9)(d.oV),c=(0,s.I0)(),o=i.includes(t.id);return(0,f.jsxs)(p,{children:[(0,f.jsx)(h,{onClick:function(){c(o?(0,l.kP)({token:r.token,productId:t.id}):(0,l.XD)({token:r.token,productId:t.id}))},children:(0,f.jsx)(a.Z,{style:{color:o&&"red"}})}),(0,f.jsx)(x,{height:e,alt:"product image",src:"/public/data/uploads/products/".concat(t.id,".webp")})]})}},6958:function(n,t,e){var i,r,c,o,a=e(168),s=e(8789),u=e(184),l=s.ZP.div(i||(i=(0,a.Z)(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: start;\n  justify-content: center;\n  gap: 20px;\n  padding: 10px 0;\n  margin: 3px;\n  min-width: 260px;\n  height: 100%;\n"]))),d=s.ZP.h2(r||(r=(0,a.Z)(["\n  font-weight: 600;\n  font-size: 30px;\n"]))),f=s.ZP.p(c||(c=(0,a.Z)(["\n  font-size: 16px;\n  max-height: 75px;\n  overflow: hidden;\n"]))),p=s.ZP.p(o||(o=(0,a.Z)(["\n  font-size: 28px;\n  font-weight: 800;\n  margin-top: auto;\n"])));t.Z=function(n){var t=n.product;return(0,u.jsxs)(l,{children:[(0,u.jsx)(d,{children:t.title}),(0,u.jsx)(f,{children:t.description}),(0,u.jsxs)(p,{children:["$",t.price]})]})}}}]);
//# sourceMappingURL=644.33686781.chunk.js.map