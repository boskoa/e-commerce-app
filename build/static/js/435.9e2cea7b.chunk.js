"use strict";(self.webpackChunke_commerce=self.webpackChunke_commerce||[]).push([[435],{3163:function(e,n,r){r.d(n,{zx:function(){return w},hE:function(){return b},jj:function(){return k},II:function(){return Z},_u:function(){return x},ZP:function(){return j}});var t=r(168),o=r(7689),a=r(8789),u=r(9439),s=r(2791),i=r(9434),c=r(7616);var l,d,f,h,p,g,m=function(){var e=(0,s.useState)(""),n=(0,u.Z)(e,2),r=n[0],t=n[1],a=(0,s.useState)(""),l=(0,u.Z)(a,2),d=l[0],f=l[1],h=(0,s.useState)(""),p=(0,u.Z)(h,2),g=p[0],m=p[1],v=(0,i.v9)(c.wi),x=(0,i.v9)(c.oV),Z=(0,o.s0)(),b=(0,i.I0)();return(0,s.useEffect)((function(){var e;return g&&(e=setTimeout((function(){return m("")}),5e3)),function(){return clearTimeout(e)}}),[g]),(0,s.useEffect)((function(){v&&m("Wrong credentials")}),[v]),(0,s.useEffect)((function(){x&&Z(-1,{replace:!0})}),[x,Z]),{username:r,setUsername:t,password:d,setPassword:f,error:g,setError:m,handleLogin:function(){r&&d?r.length>20||r.length<2?m("Username must be between 2 and 20 characters long"):d.length>20||d.length<6?m("Password must be between 6 and 20 characters long"):b((0,c.pH)({username:r,password:d})):m("Username and password are required")}}},v=r(184),x=a.ZP.div(l||(l=(0,t.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: 15px;\n"]))),Z=a.ZP.input(d||(d=(0,t.Z)(["\n  border: 1px solid ",";\n  color: ",";\n  background-color: ",";\n  height: 30px;\n  padding: 5px;\n"])),(function(e){return e.theme.color}),(function(e){return e.theme.color}),(function(e){return e.theme.bg})),b=a.ZP.div(f||(f=(0,t.Z)(["\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  width: 100%;\n"]))),w=a.ZP.button(h||(h=(0,t.Z)(["\n  padding: 5px;\n  background-color: inherit;\n  color: ",";\n  border: 1px solid ",";\n  cursor: pointer;\n  transition: all 0.3s;\n\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.2);\n  }\n"])),(function(e){return e.theme.color}),(function(e){return e.theme.color})),C=a.ZP.p(p||(p=(0,t.Z)(["\n  font-size: 14px;\n  cursor: pointer;\n  color: ",";\n  background-color: ",";\n"])),(function(e){return e.theme.color}),(function(e){return e.theme.bg})),k=a.ZP.p(g||(g=(0,t.Z)(["\n  font-size: 14px;\n  color: red;\n  background-color: ",";\n  text-align: center;\n"])),(function(e){return e.theme.bg}));var j=function(){var e=m(),n=e.username,r=e.setUsername,t=e.password,a=e.setPassword,u=e.error,s=e.setError,i=e.handleLogin,c=(0,o.s0)();return(0,v.jsxs)(x,{children:[(0,v.jsx)(Z,{type:"text",value:n,placeholder:"username",onChange:function(e){return r(e.target.value)}}),(0,v.jsx)(Z,{type:"password",value:t,placeholder:"password",onChange:function(e){return a(e.target.value)}}),(0,v.jsxs)(b,{children:[(0,v.jsx)(w,{onClick:function(){return c(-1)},children:"Cancel"}),(0,v.jsx)(w,{onClick:i,children:"Log in"})]}),(0,v.jsx)(C,{onClick:function(){return s("Tough luck")},children:"Forgot password?"}),(0,v.jsx)(k,{children:u})]})}},5435:function(e,n,r){r.r(n),r.d(n,{default:function(){return R}});var t=r(168),o=r(8789),a=r(7689),u=r(4165),s=r(1413),i=r(5987),c=r(5861),l=r(9439),d=r(1243),f=r(2791),h=r(9434),p=r(7222),g=["u"],m=["u"],v=["n"],x=["u"],Z=["e"],b=["p"],w=["c"],C=["a"];var k,j=function(){var e=(0,f.useState)(""),n=(0,l.Z)(e,2),r=n[0],t=n[1],o=(0,f.useState)(""),k=(0,l.Z)(o,2),j=k[0],y=k[1],P=(0,f.useState)(""),E=(0,l.Z)(P,2),I=E[0],S=E[1],z=(0,f.useState)(""),U=(0,l.Z)(z,2),O=U[0],B=U[1],A=(0,f.useState)(""),N=(0,l.Z)(A,2),R=N[0],T=N[1],_=(0,f.useState)(""),L=(0,l.Z)(_,2),V=L[0],$=L[1],q=(0,f.useState)(""),Y=(0,l.Z)(q,2),F=Y[0],H=Y[1],J=(0,f.useState)({}),W=(0,l.Z)(J,2),D=W[0],G=W[1],K=(0,f.useState)(!1),M=(0,l.Z)(K,2),Q=M[0],X=M[1],ee=(0,h.v9)(p.UP),ne=(0,h.v9)(p.er),re=(0,a.s0)(),te=(0,h.I0)();return(0,f.useEffect)((function(){var e;return F&&(e=setTimeout((function(){return H("")}),3e3)),function(){return clearTimeout(e)}}),[F]),(0,f.useEffect)((function(){return ee&&H("Registration failed"),function(){return te((0,p.q$)())}}),[ee,te]),(0,f.useEffect)((function(){return ne&&re("/login",{replace:!0}),function(){return te((0,p.Es)())}}),[ne,re,te]),(0,f.useEffect)((function(){function e(){return(e=(0,c.Z)((0,u.Z)().mark((function e(){var n;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(j.length>0)){e.next=12;break}return e.next=3,d.Z.post("".concat(p._n,"/check-username"),{username:j});case 3:return n=e.sent,e.prev=4,n.data>0?(G((function(e){e.u;var n=(0,i.Z)(e,g);return(0,s.Z)((0,s.Z)({},n),{},{u:"red"})})),H("Username already exists"),X(!0)):(G((function(e){e.u;return(0,i.Z)(e,m)})),X(!1)),e.abrupt("return");case 9:e.prev=9,e.t0=e.catch(4),H(JSON.stringify(e.t0));case 12:case"end":return e.stop()}}),e,null,[[4,9]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[j]),{name:r,setName:t,handleNameCheck:function(){if(r.length<2||r.length>20)return H("Name must be between 2 and 20 characters long"),void G((function(e){return(0,s.Z)((0,s.Z)({},e),{},{n:"red"})}));D.n&&G((function(e){e.n;return(0,i.Z)(e,v)}))},username:j,setUsername:y,handleUsernameCheck:function(){if(j.length<2||j.length>20)return H("Username must be between 2 and 20 characters long"),void G((function(e){return(0,s.Z)((0,s.Z)({},e),{},{u:"red"})}));D.u&&!Q&&G((function(e){e.u;return(0,i.Z)(e,x)}))},email:I,setEmail:S,handleEmailCheck:function(){if(!/^\S+\w{1}@[a-z0-9-]+.[a-z]{2,4}$/i.test(I))return H("Please, enter a valid email"),void G((function(e){return(0,s.Z)((0,s.Z)({},e),{},{e:"red"})}));D.e&&G((function(e){e.e;return(0,i.Z)(e,Z)}))},password:O,setPassword:B,handlePasswordCheck:function(){if(O.length<6||O.length>20)return H("Password must be between 6 and 20 characters long"),void G((function(e){return(0,s.Z)((0,s.Z)({},e),{},{p:"red"})}));D.p&&G((function(e){e.p;return(0,i.Z)(e,b)}))},passwordConfirm:R,setPasswordConfirm:T,handlePasswordConfirmCheck:function(){if(O!==R)return H("Password confirmation failed"),void G((function(e){return(0,s.Z)((0,s.Z)({},e),{},{c:"red"})}));D.c&&G((function(e){e.c;return(0,i.Z)(e,w)}))},address:V,setAddress:$,handleAddressCheck:function(){if(!/^[a-z]+( [a-z]+){0,5} {1}\d{1,4}, \d{1,8} [a-z]+( [a-z]+){0,5}, [a-z]+( [a-z]+){0,3}$/i.test(V))return H("Address format: Street name 42, 123 City, Country"),void G((function(e){return(0,s.Z)((0,s.Z)({},e),{},{a:"red"})}));D.a&&G((function(e){e.a;return(0,i.Z)(e,C)}))},error:F,setError:H,handleRegister:function(){!(D.size>0)&&r&&j&&I&&O?te((0,p.r4)({name:r,username:j,email:I,address:V,password:O})):H("Invalid inputs")},inputErrors:D}},y=r(3163),P=r(184),E=o.ZP.span(k||(k=(0,t.Z)(["\n  font-size: 12px;\n  text-align: center;\n"])));var I,S,z,U=function(){var e,n=j(),r=n.name,t=n.setName,o=n.handleNameCheck,u=n.username,s=n.setUsername,i=n.handleUsernameCheck,c=n.email,l=n.setEmail,d=n.handleEmailCheck,f=n.password,h=n.setPassword,p=n.handlePasswordCheck,g=n.passwordConfirm,m=n.setPasswordConfirm,v=n.handlePasswordConfirmCheck,x=n.address,Z=n.setAddress,b=n.handleAddressCheck,w=n.error,C=n.setError,k=n.handleRegister,I=n.inputErrors,S=(0,a.s0)();return(0,P.jsxs)(y._u,{children:[(0,P.jsx)(y.II,{style:{borderColor:(null===I||void 0===I?void 0:I.n)&&"red"},type:"text",placeholder:"name",value:r,onChange:function(e){return t(e.target.value)},onBlur:o}),(0,P.jsx)(y.II,{style:{borderColor:(null===I||void 0===I?void 0:I.u)&&"red"},type:"text",placeholder:"username",value:u,onChange:function(e){return s(e.target.value)},onBlur:i}),(0,P.jsx)(y.II,{style:{borderColor:(null===I||void 0===I?void 0:I.e)&&"red"},type:"text",placeholder:"email",value:c,onChange:function(e){return l(e.target.value)},onBlur:d}),(0,P.jsx)(y.II,{style:{borderColor:(null===I||void 0===I?void 0:I.a)&&"red"},type:"text",placeholder:"address",value:x,onChange:function(e){return Z(e.target.value)},onBlur:b}),(0,P.jsx)(y.II,{style:{borderColor:(null===I||void 0===I?void 0:I.p)&&"red"},type:"password",placeholder:"password",value:f,onChange:function(e){return h(e.target.value)},onBlur:p}),(0,P.jsx)(y.II,{style:{borderColor:(null===I||void 0===I?void 0:I.c)&&"red"},type:"password",placeholder:"confirm password",value:g,onChange:function(e){return m(e.target.value)},onBlur:v}),(0,P.jsxs)(E,{children:["By creating an account, I consent to the processing of my personal data in accordance with the ",(0,P.jsx)("b",{children:"PRIVACY POLICY"})]}),(0,P.jsxs)(y.hE,{children:[(0,P.jsx)(y.zx,{onClick:function(){C(""),S("/")},children:"Cancel"}),(0,P.jsx)(y.zx,{disabled:(null===(e=Object.keys(I))||void 0===e?void 0:e.length)>0,onClick:k,children:"Submit"})]}),(0,P.jsx)(y.jj,{children:w})]})},O=r(7616),B=o.ZP.div(I||(I=(0,t.Z)(["\n  height: 100vh;\n  min-width: 320px;\n  background: linear-gradient(\n      rgba(255, 255, 255, 0.5),\n      rgba(255, 255, 255, 0.1)\n    ),\n    url(/public/data/defaults/backgrounds/login-register.webp);\n  background-size: cover;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),A=o.ZP.div(S||(S=(0,t.Z)(["\n  background-color: ",";\n  padding: 10px;\n  width: 300px;\n  height: 480px;\n  box-shadow: 1px 1px 10px 2px black;\n"])),(function(e){return e.theme.bg})),N=o.ZP.h2(z||(z=(0,t.Z)(["\n  margin-bottom: 20px;\n  text-align: center;\n  color: ",";\n  background-color: ",";\n"])),(function(e){return e.theme.color}),(function(e){return e.theme.bg}));var R=function(){var e=(0,h.v9)(O.oV),n=(0,a.s0)();return(0,f.useEffect)((function(){null!==e&&void 0!==e&&e.id&&n("/")}),[e,n]),(0,P.jsx)(B,{children:(0,P.jsxs)(A,{children:[(0,P.jsx)(N,{children:"Register an account"}),(0,P.jsx)(U,{})]})})}},5987:function(e,n,r){r.d(n,{Z:function(){return o}});var t=r(3366);function o(e,n){if(null==e)return{};var r,o,a=(0,t.Z)(e,n);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)r=u[o],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}}}]);
//# sourceMappingURL=435.9e2cea7b.chunk.js.map