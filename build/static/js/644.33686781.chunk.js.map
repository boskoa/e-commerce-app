{"version":3,"file":"static/js/644.33686781.chunk.js","mappings":"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","sources":["customHooks/useIntersectionObserver.js","features/categories/CategoryProducts/index.js","features/products/ProductList/Product.js","features/products/ProductList/SelectComponent.js","features/products/ProductList/index.js","features/products/SingleProduct/ImageComponent.js","features/products/SingleProduct/InfoComponent.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\n\nfunction useIntersectionObserver(ref) {\n  const [intersecting, setIntersecting] = useState(false);\n\n  useEffect(() => {\n    const options = {\n      root: null,\n      rootMargin: \"0px\",\n      threshold: 1,\n    };\n\n    const observer = new IntersectionObserver((targets) => {\n      const [target] = targets;\n      if (target.isIntersecting) {\n        setIntersecting(true);\n      } else {\n        setIntersecting(false);\n      }\n    }, options);\n\n    observer.observe(ref.current);\n  }, [ref]);\n\n  return intersecting;\n}\n\nexport default useIntersectionObserver;\n","import { useEffect, useRef, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Spinner from \"../../../components/Spinner\";\nimport useIntersectionObserver from \"../../../customHooks/useIntersectionObserver\";\nimport {\n  emptyProducts,\n  getAllProducts,\n  selectAllProducts,\n  selectProductsLoading,\n} from \"../../products/productsSlice\";\nimport Product from \"../../products/ProductList/Product\";\nimport { useParams } from \"react-router-dom\";\nimport {\n  Container,\n  ProductContainer,\n  SpinnerContainer,\n  Title,\n} from \"../../products/ProductList\";\n\nfunction CategoryProducts() {\n  const [offset, setOffset] = useState(0);\n  const [stopLoading, setStopLoading] = useState(false);\n  const dispatch = useDispatch();\n  const products = useSelector(selectAllProducts);\n  const loading = useSelector(selectProductsLoading);\n  const endRef = useRef(null);\n  const intersecting = useIntersectionObserver(endRef);\n  const limit = 4;\n  const { category } = useParams();\n\n  useEffect(() => {\n    setOffset(0);\n    dispatch(emptyProducts());\n    window.scrollTo(0, 0);\n  }, [category, dispatch]);\n\n  useEffect(() => {\n    if (intersecting && !stopLoading) {\n      setOffset((prev) => prev + limit);\n    }\n  }, [intersecting, stopLoading]);\n\n  useEffect(() => {\n    if (offset - limit > products.length) {\n      setStopLoading(true);\n    } else {\n      setStopLoading(false);\n    }\n  }, [offset, products.length]);\n\n  useEffect(() => {\n    if (offset === products.length && category) {\n      dispatch(\n        getAllProducts(\n          `?pagination=${offset},${limit}${\n            category ? `&category=${category}` : \"\"\n          }`\n        )\n      );\n    }\n  }, [offset, products.length, category, dispatch]);\n\n  return (\n    <Container>\n      <Title>All products in category {category}</Title>\n      <ProductContainer>\n        {products.map((p) => (\n          <Product key={p.id} product={p} />\n        ))}\n      </ProductContainer>\n      <SpinnerContainer ref={endRef}>{loading && <Spinner />}</SpinnerContainer>\n    </Container>\n  );\n}\n\nexport default CategoryProducts;\n","import { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport ImageComponent from \"../SingleProduct/ImageComponent\";\nimport InfoComponent from \"../SingleProduct/InfoComponent\";\nimport { SeeAllButton } from \"../Slider\";\n\nconst Container = styled.div`\n  position: relative;\n  display: flex;\n  justify-content: space-between;\n  align-items: start;\n  flex-wrap: wrap;\n  gap: 15px;\n  height: 250px;\n  width: 100%;\n  color: ${({ theme }) => theme.color};\n  box-shadow: 0px 0px 2px 0px rgba(0, 0, 0, 0.7);\n  transition: all 0.3s;\n\n  &:hover {\n    box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.7);\n    transform: scale(1.005);\n  }\n\n  @media only screen and (max-width: 575px) {\n    flex-direction: column;\n    height: auto;\n  }\n`;\n\nexport const Button = styled(SeeAllButton)`\n  top: auto;\n  left: auto;\n  bottom: 10px;\n  right: 10px;\n  font-size: 14px;\n`;\n\nfunction Product({ product }) {\n  return (\n    <Container>\n      <ImageComponent product={product} height=\"250px\" />\n      <InfoComponent product={product} />\n      <Link to={`/products/${product.id}`}>\n        <Button>See product</Button>\n      </Link>\n    </Container>\n  );\n}\n\nexport default Product;\n","import styled from \"styled-components\";\n\nconst Select = styled.select`\n  background-color: inherit;\n  color: inherit;\n  border: 1px solid ${({ theme }) => theme.color};\n  padding: 5px;\n`;\n\nconst Option = styled.option``;\n\nfunction SelectComponent({ defaultValue, setValue, values }) {\n  return (\n    <Select onChange={(e) => setValue(e.target.value)}>\n      <Option value=\"\">{defaultValue}</Option>\n      {values.map((v) => (\n        <Option key={v} value={v}>\n          {v}\n        </Option>\n      ))}\n    </Select>\n  );\n}\n\nexport default SelectComponent;\n","import axios from \"axios\";\nimport { useEffect, useMemo, useRef, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport styled from \"styled-components\";\nimport Spinner from \"../../../components/Spinner\";\nimport useIntersectionObserver from \"../../../customHooks/useIntersectionObserver\";\nimport { selectAllCategories } from \"../../categories/categoriesSlice\";\nimport {\n  emptyProducts,\n  getAllProducts,\n  selectAllProducts,\n  selectProductsLoading,\n} from \"../productsSlice\";\nimport Product from \"./Product\";\nimport SelectComponent from \"./SelectComponent\";\n\nexport const Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  justify-content: start;\n  gap: 20px;\n  min-height: 100vh;\n  width: 100%;\n  padding: 20px;\n  background-image: ${({ theme }) =>\n    `linear-gradient(-200deg, ${theme.base[0]}, ${theme.base[1]} 30%)`};\n  color: ${({ theme }) => theme.color};\n  transition: all 0.3s;\n`;\n\nexport const Title = styled.h2`\n  font-weight: 600;\n  font-size: 36px;\n`;\n\nconst FilterContainer = styled.div`\n  display: flex;\n  width: 100%;\n  justify-content: space-between;\n  gap: 20px;\n\n  @media only screen and (max-width: 600px) {\n    flex-direction: column;\n  }\n`;\n\nconst Filter = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 5px;\n\n  @media only screen and (max-width: 400px) {\n    flex-direction: column;\n    align-items: start;\n  }\n`;\n\nconst FilterText = styled.p`\n  font-size: 18px;\n`;\n\nexport const ProductContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: start;\n  justify-content: start;\n  gap: 15px;\n  min-height: 100%;\n  transition: all 0.3s;\n`;\n\nexport const SpinnerContainer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 70px;\n  width: 100%;\n  margin-top: auto;\n`;\n\nfunction ProductList() {\n  const [offset, setOffset] = useState(0);\n  const [stopLoading, setStopLoading] = useState(false);\n  const dispatch = useDispatch();\n  const products = useSelector(selectAllProducts);\n  const loading = useSelector(selectProductsLoading);\n  const endRef = useRef(null);\n  const intersecting = useIntersectionObserver(endRef);\n  const limit = 4;\n  const categories = useSelector(selectAllCategories).map((c) => c.name);\n  const [colors, setColors] = useState([]);\n  const [sizes, setSizes] = useState([]);\n  const sorts = useMemo(\n    () => ({\n      \"price (asc)\": [\"price,ASC\"],\n      \"price (desc)\": [\"price,DESC\"],\n      newest: [\"createdAt,DESC\"],\n      oldest: [\"createdAt,ASC\"],\n    }),\n    []\n  );\n  const [category, setCategory] = useState(\"\");\n  const [color, setColor] = useState(\"\");\n  const [size, setSize] = useState(\"\");\n  const [sort, setSort] = useState(\"\");\n\n  useEffect(() => {\n    setOffset(0);\n    dispatch(emptyProducts());\n  }, [category, color, size, sort, dispatch]);\n\n  useEffect(() => {\n    async function fetchColorsSizes() {\n      const response = await axios.get(\"/api/products/colors-sizes\");\n      setColors(response.data.uniqueColors);\n      setSizes(response.data.uniqueSizes);\n    }\n    fetchColorsSizes();\n  }, []);\n\n  useEffect(() => {\n    if (intersecting && !stopLoading) {\n      setOffset((prev) => prev + limit);\n    }\n  }, [intersecting, stopLoading]);\n\n  useEffect(() => {\n    if (offset - limit > products.length) {\n      setStopLoading(true);\n    } else {\n      setStopLoading(false);\n    }\n  }, [offset, products.length]);\n\n  useEffect(() => {\n    if (offset === products.length) {\n      dispatch(\n        getAllProducts(\n          `?pagination=${offset},${limit}${\n            category ? `&category=${category}` : \"\"\n          }${color ? `&color=${color}` : \"\"}${size ? `&size=${size}` : \"\"}${\n            sort ? `&order=${sorts[sort]}` : \"\"\n          }`\n        )\n      );\n    }\n  }, [offset, products.length, category, color, size, sort, sorts, dispatch]);\n\n  return (\n    <Container>\n      <Title>All products</Title>\n      <FilterContainer>\n        <Filter>\n          <FilterText>Filter products</FilterText>\n          <SelectComponent\n            defaultValue=\"categories\"\n            setValue={setCategory}\n            values={categories}\n          />\n          <SelectComponent\n            defaultValue=\"colors\"\n            setValue={setColor}\n            values={colors}\n          />\n          <SelectComponent\n            defaultValue=\"sizes\"\n            setValue={setSize}\n            values={sizes}\n          />\n        </Filter>\n        <Filter>\n          <FilterText>Sort by</FilterText>\n          <SelectComponent\n            defaultValue=\"criterium\"\n            setValue={setSort}\n            values={Object.keys(sorts)}\n          />\n        </Filter>\n      </FilterContainer>\n      <ProductContainer>\n        {products.map((p) => (\n          <Product key={p.id} product={p} />\n        ))}\n      </ProductContainer>\n      <SpinnerContainer ref={endRef}>{loading && <Spinner />}</SpinnerContainer>\n    </Container>\n  );\n}\n\nexport default ProductList;\n","import { FavoriteBorder } from \"@mui/icons-material\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport styled from \"styled-components\";\nimport {\n  createUsersLike,\n  removeUsersLike,\n  selectAllLikes,\n} from \"../../likedProducts/likedProductsSlice\";\nimport { selectLoggedUser } from \"../../login/loginSlice\";\n\nconst ImageContainer = styled.div`\n  flex: 1;\n  min-width: 200px;\n  align-self: stretch;\n  position: relative;\n`;\n\nconst Image = styled.img`\n  width: 100%;\n  height: ${({ height }) => height};\n  object-fit: cover;\n`;\n\nconst Icon = styled.div`\n  position: absolute;\n  top: 5px;\n  left: 5px;\n  color: ${({ theme }) => theme.color};\n  background-color: ${({ theme }) => theme.bg};\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 0.7;\n  cursor: pointer;\n  transition: all 0.3s;\n\n  &:hover {\n    opacity: 1;\n  }\n\n  &:active {\n    transform: scale(1.1);\n  }\n`;\n\nfunction ImageComponent({ product, height }) {\n  const likedProducts = useSelector(selectAllLikes).map((l) => l.productId);\n  const loggedUser = useSelector(selectLoggedUser);\n  const dispatch = useDispatch();\n  const liked = likedProducts.includes(product.id);\n\n  function handleLike() {\n    if (liked) {\n      dispatch(\n        removeUsersLike({ token: loggedUser.token, productId: product.id })\n      );\n    } else {\n      dispatch(\n        createUsersLike({ token: loggedUser.token, productId: product.id })\n      );\n    }\n  }\n\n  return (\n    <ImageContainer>\n      <Icon onClick={handleLike}>\n        <FavoriteBorder style={{ color: liked && \"red\" }} />\n      </Icon>\n      <Image\n        height={height}\n        alt=\"product image\"\n        src={`/public/data/uploads/products/${product.id}.webp`}\n      />\n    </ImageContainer>\n  );\n}\n\nexport default ImageComponent;\n","import styled from \"styled-components\";\n\nconst Info = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: start;\n  justify-content: center;\n  gap: 20px;\n  padding: 10px 0;\n  margin: 3px;\n  min-width: 260px;\n  height: 100%;\n`;\n\nconst Title = styled.h2`\n  font-weight: 600;\n  font-size: 30px;\n`;\n\nconst Description = styled.p`\n  font-size: 16px;\n  max-height: 75px;\n  overflow: hidden;\n`;\n\nconst Price = styled.p`\n  font-size: 28px;\n  font-weight: 800;\n  margin-top: auto;\n`;\n\nfunction InfoComponent({ product }) {\n  return (\n    <Info>\n      <Title>{product.title}</Title>\n      <Description>{product.description}</Description>\n      <Price>${product.price}</Price>\n    </Info>\n  );\n}\n\nexport default InfoComponent;\n"],"names":["ref","_useState","useState","_useState2","_slicedToArray","intersecting","setIntersecting","useEffect","IntersectionObserver","targets","isIntersecting","root","rootMargin","threshold","observe","current","offset","setOffset","_useState3","_useState4","stopLoading","setStopLoading","dispatch","useDispatch","products","useSelector","selectAllProducts","loading","selectProductsLoading","endRef","useRef","useIntersectionObserver","category","useParams","emptyProducts","window","scrollTo","prev","length","getAllProducts","concat","_jsxs","Container","children","Title","_jsx","ProductContainer","map","p","Product","product","id","SpinnerContainer","Spinner","styled","_templateObject","_taggedTemplateLiteral","_ref","theme","color","Button","SeeAllButton","_templateObject2","_ref2","ImageComponent","height","InfoComponent","Link","to","Select","Option","defaultValue","setValue","values","onChange","e","target","value","v","base","FilterContainer","_templateObject3","Filter","_templateObject4","FilterText","_templateObject5","_templateObject6","_templateObject7","categories","selectAllCategories","c","name","_useState5","_useState6","colors","setColors","_useState7","_useState8","sizes","setSizes","sorts","useMemo","newest","oldest","_useState9","_useState10","setCategory","_useState11","_useState12","setColor","_useState13","_useState14","size","setSize","_useState15","_useState16","sort","setSort","_fetchColorsSizes","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_context","next","axios","sent","data","uniqueColors","uniqueSizes","stop","apply","arguments","fetchColorsSizes","SelectComponent","Object","keys","ImageContainer","Image","Icon","_ref3","bg","_ref4","likedProducts","selectAllLikes","l","productId","loggedUser","selectLoggedUser","liked","includes","onClick","removeUsersLike","token","createUsersLike","FavoriteBorder","style","alt","src","Info","Description","Price","title","description","price"],"sourceRoot":""}